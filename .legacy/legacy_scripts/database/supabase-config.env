#!/bin/bash
# Supabase Database Synchronization Configuration - Example Template
# Copy this file to supabase-config.env and update with your actual values
# AI-HRMS-2025 Project

# ===========================================
# LOCAL DATABASE CONFIGURATION
# ===========================================
LOCAL_DB_HOST="127.0.0.1"
LOCAL_DB_PORT="5432"
LOCAL_DB_NAME="ai_hrms_2025"
LOCAL_DB_USER="hrms_user"
LOCAL_DB_PASSWORD="hrms_password"
LOCAL_DB_URL="postgresql://${LOCAL_DB_USER}:${LOCAL_DB_PASSWORD}@${LOCAL_DB_HOST}:${LOCAL_DB_PORT}/${LOCAL_DB_NAME}"

# ===========================================
# SUPABASE CONFIGURATION (Update these!)
# ===========================================
SUPABASE_PROJECT_ID="ndmwxfnqymdirmnbtofz"
SUPABASE_PROJECT_REF="ndmwxfnqymdirmnbtofz"
SUPABASE_DB_PASSWORD="7XyihOlP3ZDq85Tz"
SUPABASE_SERVICE_ROLE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5kbXd4Zm5xeW1kaXJtbmJ0b2Z6Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1ODYyODU1NSwiZXhwIjoyMDc0MjA0NTU1fQ.rmVQMI1_k2_h7Im3gTTIqxCREnWIIEsw575zU06lpHQ"
SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5kbXd4Zm5xeW1kaXJtbmJ0b2Z6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2Mjg1NTUsImV4cCI6MjA3NDIwNDU1NX0.gmTR045g9ckuATgfheOzZ-NmnF1UWBQjNhB1Dgnc_cg"

# Auto-generated from above
SUPABASE_DB_HOST="aws-1-eu-north-1.pooler.supabase.com"
SUPABASE_URL="https://ndmwxfnqymdirmnbtofz.supabase.co"
SUPABASE_DB_PORT="6543"
SUPABASE_DB_USER="postgres.ndmwxfnqymdirmnbtofz"
SUPABASE_DB_NAME="postgres"

# ===========================================
# BACKUP & SYNC CONFIGURATION
# ===========================================
BACKUP_DIR="${HOME}/AI-HRMS-2025/.legacy/backups"
BACKUP_RETENTION_DAYS=30
BACKUP_PREFIX="hrms_backup"
BACKUP_TIMESTAMP_FORMAT="%Y%m%d%H%M%S"
BACKUP_SCHEMA_SUFFIX="schema"
BACKUP_DATA_SUFFIX="data"
BACKUP_FULL_SUFFIX="full"
TEMP_DIR="/tmp"
REQUIRE_CONFIRMATION=true
CREATE_PRE_SYNC_BACKUP=true
ENVIRONMENT="development"

# ===========================================
# DATA SYNC TABLES
# ===========================================
DATA_SYNC_TABLES=(
    "tenants"
    "organizations"
    "users"
    "employees"
    "departments"
    "job_roles"
    "skills_master"
)

# ===========================================
# LOGGING
# ===========================================
LOG_DIR="${HOME}/AI-HRMS-2025/.legacy/logs"
LOG_TO_FILE=true
LOG_LEVEL="INFO"

# ===========================================
# ADDITIONAL VARIABLES
# ===========================================
PROJECT_ROOT="${HOME}/AI-HRMS-2025"
MIGRATION_TABLE="SequelizeMeta"
MAX_ROW_COUNT_DIFF_PERCENT=10

# Export variables
set -a
# Variables are automatically exported due to set -a above
set +a